---
title: "501C3-CHARITIES-PZ Data Dictionary"
format: html
editor: visual
execute: 
  echo: false
  warning: false
---

```{r echo=FALSE}
library(dplyr)
library(kableExtra)

dd <- readr::read_csv( 
  "https://nccsdata.s3.amazonaws.com/harmonized/CORE-HRMN-DD.csv"
  )
```

The PZ Version of the harmonized 501(c)(3) Charities data set contains variables common across both Form 990 and Form 990EZ filings. This data set includes a larger number of organizations but a smaller number of variables than the 501(c)(3) Charities PC data set.

## Data Dictionary Overview

This data dictionary was built using the Nonprofit Open Data Collective's [Master Concordance File](https://github.com/Nonprofit-Open-Data-Collective/irs-efile-master-concordance-file).

## Variable Descriptions


-   **Variable Name** : Name of variable

-   **Description**: Description of variable

-   **Variable Source**: Source of variable

    -   **NCCS**: Variable created by NCCS

    -   **HD**: 990 Header

    -   **PC**: Form 990 Only

    -   **PZ**: Both Form 990 and Form 990EZ

    -   **EZ**: Form 990EZ

-   **Location Code**: Location in IRS Form

-   **Coverage**: Tax years for which variable is available

-   **Data Type**: Data type of variable


## Data Dictionary

```{r}
both <- data.frame(
  variable_name = c( "RTRN_ID", 
                     "DUP_RTRN_X",
                     "MISSION_NTEE",
                     "GEO_ZIP5" ),
  variable_description = c( "Unique Row ID",
                            "Indicates a Duplicate Return",
                            "IRS NTEE Code",
                            "5 Digit Zip Code" ),
  variable_source = rep( "NCCS", 4 ),
  form_location = rep( NA, 4 ),
  variable_coverage = rep( "1989-2019", 4 ),
  variable_datatype = rep( "character", 4 )
)

dd <- dd %>%
  dplyr::filter( form_scope == "501C3-CHARITIES-PZ" ) %>% 
  dplyr::select(  
    variable_name,
    variable_description,
    variable_source,
    form_location,
    variable_coverage,
    variable_datatype
    )

dd_combined <- dplyr::bind_rows(  both, dd )

dd_combined %>% 
  knitr::kable( escape=FALSE,
                col.names = c("Variable Name", 
                              "Description",
                              "Variable Source",
                              "Location Code",
                              "Coverage",
                              "Data Type") ) %>%
  kableExtra::kable_styling( full_width = FALSE ) %>% 
  column_spec( column = c( 2, 4), width_min = "10cm" ) %>% 
  column_spec( column = 5, width_min = "5cm" )
```
